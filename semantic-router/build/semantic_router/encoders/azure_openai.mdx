---
sidebar_label: azure_openai
title: semantic_router.encoders.azure_openai
---

## AzureOpenAIEncoder Objects

```python
class AzureOpenAIEncoder(DenseEncoder)
```

Encoder for Azure OpenAI API.

This class provides functionality to encode text documents using the Azure OpenAI API.
It supports customization of the score threshold for filtering or processing the embeddings.

#### \_\_init\_\_

```python
def __init__(
        name: Optional[str] = None,
        azure_endpoint: str | None = None,
        api_version: str | None = None,
        api_key: str | None = None,
        azure_ad_token: str | None = None,
        azure_ad_token_provider: Callable[[], str] | None = None,
        http_client_options: Optional[Dict[str, Any]] = None,
        deployment_name: str = EncoderDefault.AZURE.value["deployment_name"],
        score_threshold: float = 0.82,
        dimensions: Union[int, NotGiven] = NotGiven(),
        max_retries: int = 3)
```

Initialize the AzureOpenAIEncoder.

**Arguments**:

- `azure_endpoint` (`str, optional`): The endpoint for the Azure OpenAI API.
Example: ``https://accountname.openai.azure.com``
- `api_version` (`str, optional`): The version of the API to use.
Example: ``&quot;2025-02-01-preview&quot;``
- `api_key` (`str, optional`): The API key for the Azure OpenAI API.
- `str, optional`0 (`str, optional`): The Azure AD/Entra ID token for authentication.
https://www.microsoft.com/en-us/security/business/identity-access/microsoft-entra-id
- `str, optional`2 (`str, optional`3): A callable function that returns an Azure AD/Entra ID token.
- `str, optional`4 (`str, optional`5): Dictionary of options to configure httpx client
Example:
{
    &quot;proxies&quot;: &quot;http://proxy.server:8080&quot;,
    &quot;timeout&quot;: 20.0,
    &quot;headers&quot;: {&quot;Authorization&quot;: &quot;Bearer xyz&quot;}
}
- `str, optional`6 (`str, optional`): The name of the model deployment to use.
- `str, optional`8 (`str, optional`9): The score threshold for filtering embeddings.
Default is ``0.82``.
- ``2 (``3): The number of dimensions for the embeddings. If not given, it defaults to the model&#x27;s default setting.
- ``4 (``3): The maximum number of retries for API calls in case of failures.
Default is ``3``.

#### \_\_call\_\_

```python
def __call__(docs: List[str]) -> List[List[float]]
```

Encode a list of documents into embeddings using the Azure OpenAI API.

**Arguments**:

- `docs` (`List[str]`): The documents to encode.

**Returns**:

`List[List[float]]`: The embeddings for the documents.

#### acall

```python
async def acall(docs: List[str]) -> List[List[float]]
```

Encode a list of documents into embeddings using the Azure OpenAI API asynchronously.

**Arguments**:

- `docs` (`List[str]`): The documents to encode.

**Returns**:

`List[List[float]]`: The embeddings for the documents.

